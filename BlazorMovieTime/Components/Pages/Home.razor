@page "/"
@using BlazorMovieTime.Models
@using BlazorMovieTime.Services
@inject TMDBClient TMDB

<PageTitle>Home</PageTitle>

@* Am adăugat flex-column pentru a pune elementele unul sub altul și vh-100 pentru a ocupa toată înălțimea ecranului *@
<div class="vh-100 d-flex flex-column justify-content-center align-items-center">
    <h1>Hello, world!</h1>

    <p>Welcome to your new app.</p>

    <img src="/images/THEMOVEDBLogo.svg" class="w-25" alt="Logo" />


    <button class="btn btn-primary mt-3">Primary button</button>
    @if (movies is not null)
    {
            <h2>Popular Movies</h2>
            <ul>
                @foreach (PopularMovie movie in movies.Results)
                {
                    <li>@movie.Title</li>
                }
            </ul>

    }
    else
    {
        <p>Movies are still loading..</p>
    }

</div>

@code {
    private PopularMoviePagedResponse? movies;

    protected override async Task OnInitializedAsync()
    {
        movies = await TMDB.GetPopularMoviesAsync();
    }
}